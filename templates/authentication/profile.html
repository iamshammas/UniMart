{% extends 'base.html' %}

{% block title %}Profile{% endblock %}

{% block content %}

<h2>My Profile</h2>

<!-- User Info -->
<div style="border:1px solid #ddd; padding:10px; margin-bottom:20px;">
    <p><strong>Username:</strong> {{ user.username }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>

    <p><strong>Phone:</strong>
        {% if user.profile.phone %}
            {{ user.profile.phone }}
        {% else %}
            Not provided
        {% endif %}
    </p>

    <p><strong>Address:</strong>
        {% if user.profile.address %}
            {{ user.profile.address }}
        {% else %}
            Not provided
        {% endif %}
    </p>
</div>

<h3>My Orders</h3>

{% if orders %}
    <table border="1" cellpadding="8">
        <tr>
            <th>Order ID</th>
            <th>Date</th>
            <th>Total</th>
            <th>Status</th>
            <th>Details</th>
        </tr>

        {% for order in orders %}
            <tr>
                <td>#{{ order.id }}</td>
                <td>{{ order.created_at }}</td>
                <td>â‚¹ {{ order.total_amount }}</td>
                <td>{{ order.order_status }}</td>
                <td>
                    <a href="{% url 'order_detail' order.id %}">View</a>
                </td>
            </tr>
        {% endfor %}
    </table>
{% else %}
    <p>You have not placed any orders yet.</p>
{% endif %}

{% endblock %}
